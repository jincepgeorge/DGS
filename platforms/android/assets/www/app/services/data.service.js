angular.module("DGSApp.services").service("DataService",["$http","$log","$q","ENV","$filter",function(e,a,r,t,s){this.GetDashboradData=function(s,c){var i=r.defer();return localStorage.dashboardData&&c?i.resolve({success:!0,responseData:n()}):e.get(t.getCustomerDataAPI.replace("<custid>",s)).then(function(e){i.resolve({success:!0,responseData:e.data}),o(e.data)},function(e,r){i.reject(e),a.error(e)}),i.promise},this.ValidateUser=function(o){var n=r.defer();return e.get(t.keys.jsonUrl+t.keys.employeelist).then(function(e){var a=s("filter")(e.data,o,!0)[0];a?n.resolve({success:!0,responseData:a}):n.resolve({success:!1,responseData:t.messages.INVALID_LOGIN})},function(e,r){n.reject(e),a.error(e)}),n.promise},this.UpdateTopupAmount=function(s){var o=r.defer();return e({url:t.makePaymentAPI,method:"POST",data:s}).then(function(e){o.resolve({success:!0,responseData:e})},function(e,r){o.reject(e),a.error(e)}),o.promise};var o=function(e){localStorage.dashboardData=JSON.stringify(e)},n=function(){return localStorage.dashboardData||(localStorage.dashboardData=JSON.stringify([])),JSON.parse(localStorage.dashboardData)}}]);